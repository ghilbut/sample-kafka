<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>

  <!-- jquery -->
  <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
          crossorigin="anonymous"></script>
  <!-- jquery ui -->
  <script src="http://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
          crossorigin="anonymous"></script>

  <!-- bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
          integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <style>
    #content {
      padding: 10px;
    }
  </style>

</head>
<body>



<div id="content">


  <!-- Alert -->
  <div class="outline first">
    <div class="alert alert-danger" role="alert">
      <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
      <span class="sr-only">Error:</span>
      This page is only tested on Mac OS X El Capitan and Chrome browser.
    </div>
  </div>


  <!-- Producer -->
  <div class="outline">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Test Kafka Producer</h3>
      </div>
      <div class="panel-body">

        <div class="input-group input-group-sm">
          <span class="input-group-addon">total message count</span>
          <input type="text" class="form-control" placeholder="default=100" aria-describedby="sizing-addon3" id="produce-count">
        </div>
        <br>

        <div class="input-group input-group-sm">
          <span class="input-group-addon">random value range&nbsp;</span>
          <input type="text" class="form-control" placeholder="default=7" aria-describedby="sizing-addon3" id="produce-range">
        </div>
        <br>

        <button id="produce-button" type="button" class="btn btn-default btn-xs">
          <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> Produce
        </button>
        <br>

      </div>
    </div>
  </div>


  <!-- DC/OS cluster list -->
  <div class="outline">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Test Kafka Consumer (not implemented yet)</h3>
      </div>
      <div class="panel-body">

        <div class="input-group input-group-sm">
          <span class="input-group-addon">consumer count</span>
          <input type="text" class="form-control" placeholder="default=3" aria-describedby="sizing-addon3" id="consumer-count">
        </div>
        <br>

        <button id="consume-start-button" type="button" class="btn btn-default btn-xs">
          <span class="glyphicon glyphicon-play" aria-hidden="true"></span> Start
        </button>
        <button id="consume-stop-button" type="button" class="btn btn-default btn-xs">
          <span class="glyphicon glyphicon-stop" aria-hidden="true"></span> Stop
        </button>
        <br>

      </div>
    </div>
  </div>

</div><!-- content -->


<script>

  (function () {
    var count = document.getElementById('produce-count');
    var range = document.getElementById('produce-range');

    document.getElementById('produce-button').onclick = function () {
      var xhr = new XMLHttpRequest();
      xhr.open('PUT', '/v1/api/produce');
      xhr.setRequestHeader('Content-Type', 'application/json');
      xhr.send(JSON.stringify({'count': count.value || 100, 'range': range.value || 7}));
    }
  })();

  (function () {

  })();

</script>


</body>
</html>
